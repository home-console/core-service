# ‚úÖ –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç –Ω–∞–∑–≤–∞–Ω–∏–π –ø–∞–ø–æ–∫ `core`
- **–ë—ã–ª–æ:** `plugin_system/core/` (–±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –ø–ª–∞–≥–∏–Ω–æ–≤)
- **–°—Ç–∞–ª–æ:** `plugin_system/base/` (–±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –ø–ª–∞–≥–∏–Ω–æ–≤)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø–∞–ø–∫–∞ `core/` - –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ core-service

### 2. ‚úÖ –£–¥–∞–ª–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ–∞–π–ª—ã
- ‚ùå –£–¥–∞–ª–µ–Ω `plugins/base.py` (—Å—Ç–∞—Ä—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å, –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ InternalPluginBase –∏–∑ SDK)
- ‚ùå –£–¥–∞–ª–µ–Ω `plugins/loader.py` (—Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Å—Ç–æ–π loader, –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ plugin_system/loader.py)
- ‚ùå –£–¥–∞–ª–µ–Ω `plugins/devices_plugin.py` (–ø—Ä–∏–º–µ—Ä –ø–ª–∞–≥–∏–Ω–∞, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### 3. ‚úÖ –£–¥–∞–ª–µ–Ω—ã backup —Ñ–∞–π–ª—ã
- ‚ùå –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ `.bak` –∏ `.bak2` —Ñ–∞–π–ª—ã –∏–∑ –ø–ª–∞–≥–∏–Ω–æ–≤

### 4. ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚ùå –£–¥–∞–ª–µ–Ω–∞ –ø—É—Å—Ç–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/core_service/` –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞

### 5. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã `from .core.base import` ‚Üí `from .base.base import`
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
core-service/
‚îú‚îÄ‚îÄ core/                    # ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ core-service
‚îÇ   ‚îú‚îÄ‚îÄ database/           # –ë–î –∏ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ event_bus.py
‚îÇ   ‚îú‚îÄ‚îÄ dependencies.py
‚îÇ   ‚îú‚îÄ‚îÄ constants.py
‚îÇ   ‚îî‚îÄ‚îÄ health_monitor.py
‚îÇ
‚îú‚îÄ‚îÄ plugin_system/
‚îÇ   ‚îú‚îÄ‚îÄ base/               # ‚úÖ –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ –∏–∑ core/)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ base.py
‚îÇ   ‚îú‚îÄ‚îÄ loader.py
‚îÇ   ‚îú‚îÄ‚îÄ managers/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ plugins/                # ‚úÖ –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ client_manager/
‚îÇ   ‚îú‚îÄ‚îÄ pikvm_client/
‚îÇ   ‚îî‚îÄ‚îÄ yandex_smart_home/
‚îÇ
‚îú‚îÄ‚îÄ app.py                  # ‚úÖ –¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ asgi.py
‚îî‚îÄ‚îÄ plugin_loader.py
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏

### –î–æ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
- –§–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ: 10 .py + 9 .md = 19 —Ñ–∞–π–ª–æ–≤
- –î–≤–µ –ø–∞–ø–∫–∏ `core` (–∫–æ–Ω—Ñ–ª–∏–∫—Ç)
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ–∞–π–ª—ã –≤ plugins/
- Backup —Ñ–∞–π–ª—ã

### –ü–æ—Å–ª–µ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
- –§–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ: 5 .py + 1 .md = 6 —Ñ–∞–π–ª–æ–≤ ‚úÖ
- –û–¥–Ω–∞ –ø–∞–ø–∫–∞ `core/` (–æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏) ‚úÖ
- –û–¥–Ω–∞ –ø–∞–ø–∫–∞ `base/` (–±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –ø–ª–∞–≥–∏–Ω–æ–≤) ‚úÖ
- –ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ–∞–π–ª–æ–≤ ‚úÖ

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. ‚úÖ **–ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –Ω–∞–∑–≤–∞–Ω–∏–π** - —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø–∞–ø–∫–∞ `core/`
2. ‚úÖ **–ß–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - —É–¥–∞–ª–µ–Ω—ã –≤—Å–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ–∞–π–ª—ã
3. ‚úÖ **–ü–æ–Ω—è—Ç–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** - –ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
4. ‚úÖ **–õ–µ–≥—á–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –º–µ–Ω—å—à–µ —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ, –≤—Å–µ –ø–æ –º–µ—Å—Ç–∞–º

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- `plugin_loader.py` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–µ core-service) –æ—Å—Ç–∞–≤–ª–µ–Ω –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ç–µ—Å—Ç–∞–º–∏
- –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

